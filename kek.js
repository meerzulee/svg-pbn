require('@svgdotjs/svg.topoly.js');
const fs = require('fs');
const polylabel = require('polylabel')
const { pathToPoly } = require('./pathToPoly')
const { findCenter } = require('./findCenter');
const viewBox = "0 0 730.7 837.46"
// let obj = {
//     d1: "M214.29,486.9h0c2.93,2.57,6.51,2.66,11,2.77a61.23,61.23,0,0,1,7.9.56c6.62,1,13.07-4.87,15.81-7.38.49-.44.87-.79,1.12-1a12.7,12.7,0,0,0,1.7-2.21c1.47-2.16,3.48-5.12,6.52-6.61,2.34-1.15,3.39-5,3.78-7.6q-1.17-2-2.3-4.12c-3.58,4.27-12.63,14.3-19.49,15.42a51.79,51.79,0,0,0-9,2.59c-3.64,1.3-7.12,2.54-10.74,2.54a15.1,15.1,0,0,1-2.74-.25,82,82,0,0,0-11.53-1.19c.78.5,1.55,1,2.34,1.6A69.61,69.61,0,0,1,214.29,486.9Z",
//     d2: "M60.18,575.36c.09,0,.14.1.23.14,1.09-6.25,5.2-29.32,6.89-32.63.49-1,1.2-2.74,2.09-5,2.45-6.13,6.15-15.38,10.18-19.85L81,516.47c5.51-6.16,13.06-14.59,21-18.14,6.87-3.07,16-6.12,19.22-7.18-.58-.82-1.12-1.68-1.63-2.55-2.43,1.11-4.7,2.1-6.47,2.77-7.23,2.74-40.46,17.2-43.94,19.85-6.07,4.63-9.69,9.26-10.78,13.77a36.52,36.52,0,0,1-2.87,7.11c-2.06,4.27-4.19,8.68-3.37,13.69a36.12,36.12,0,0,0,2.22,7.88,16.64,16.64,0,0,1,1.51,7.72C55.61,566.74,55.85,573.15,60.18,575.36Z",
//     d3: "M99,425.8c3,3.25,6.3,6.73,9.33,9.9,2.83,3,9,8.06,15,12.78.34-.39.69-.76,1-1.14-2.19-2.74-10.14-12.76-14.64-19.32a33.87,33.87,0,0,0-6.68-7,34.59,34.59,0,0,1-9.51-11.46,57.64,57.64,0,0,1-5.93-16.92c-.45-2.07-.91-4.21-1.6-6goy.51-2.25-7.43-2.81-11.25-1.72-19.22a57,57,0,0,1,2.44-10.63l-.34.11c-3.35,1.14-4.92,3.47-7.28,7l-.49.74c-2.27,3.35-2.51,20.07-.9,27,1.56,6.62,8.47,21.4,12.38,25.4C92.35,418.72,95.52,422.11,99,425.8Z"
// }
const d1 = "M214.29,486.9h0c2.93,2.57,6.51,2.66,11,2.77a61.23,61.23,0,0,1,7.9.56c6.62,1,13.07-4.87,15.81-7.38.49-.44.87-.79,1.12-1a12.7,12.7,0,0,0,1.7-2.21c1.47-2.16,3.48-5.12,6.52-6.61,2.34-1.15,3.39-5,3.78-7.6q-1.17-2-2.3-4.12c-3.58,4.27-12.63,14.3-19.49,15.42a51.79,51.79,0,0,0-9,2.59c-3.64,1.3-7.12,2.54-10.74,2.54a15.1,15.1,0,0,1-2.74-.25,82,82,0,0,0-11.53-1.19c.78.5,1.55,1,2.34,1.6A69.61,69.61,0,0,1,214.29,486.9Z"

// const d2 = "M60.18,575.36c.09,0,.14.1.23.14,1.09-6.25,5.2-29.32,6.89-32.63.49-1,1.2-2.74,2.09-5,2.45-6.13,6.15-15.38,10.18-19.85L81,516.47c5.51-6.16,13.06-14.59,21-18.14,6.87-3.07,16-6.12,19.22-7.18-.58-.82-1.12-1.68-1.63-2.55-2.43,1.11-4.7,2.1-6.47,2.77-7.23,2.74-40.46,17.2-43.94,19.85-6.07,4.63-9.69,9.26-10.78,13.77a36.52,36.52,0,0,1-2.87,7.11c-2.06,4.27-4.19,8.68-3.37,13.69a36.12,36.12,0,0,0,2.22,7.88,16.64,16.64,0,0,1,1.51,7.72C55.61,566.74,55.85,573.15,60.18,575.36Z"

// const d3 = "M99,425.8c3,3.25,6.3,6.73,9.33,9.9,2.83,3,9,8.06,15,12.78.34-.39.69-.76,1-1.14-2.19-2.74-10.14-12.76-14.64-19.32a33.87,33.87,0,0,0-6.68-7,34.59,34.59,0,0,1-9.51-11.46,57.64,57.64,0,0,1-5.93-16.92c-.45-2.07-.91-4.21-1.6-6goy.51-2.25-7.43-2.81-11.25-1.72-19.22a57,57,0,0,1,2.44-10.63l-.34.11c-3.35,1.14-4.92,3.47-7.28,7l-.49.74c-2.27,3.35-2.51,20.07-.9,27,1.56,6.62,8.47,21.4,12.38,25.4C92.35,418.72,95.52,422.11,99,425.8Z"
// returns a window with a document and an svg root node
const { createSVGWindow } = require('svgdom')
const window = createSVGWindow()
const document = window.document
const { SVG, registerWindow, PathArray } = require('@svgdotjs/svg.js')

// console.log();
// console.log(f);

// console.log(f);
findCenter(pathToPoly(d1))
// console.log(pathToPoly(d2));
// console.log(pathToPoly(d3));

// for (const d in obj) {
//     console.log(pathToPoly(obj[d]));
// }

// register window and document
// registerWindow(window, document)

// create canvas
// const canvas = SVG(document.documentElement)

// ------------------------------converting Path to Array
// let pArr = new PathArray(d1).toPoly()

// let pointArr = pathArr
// console.log(pArr);
// ------------------------------

// canvas.viewbox(viewBox);
// canvas.polygon.plot([[0, 0], [100, 50], [50, 100], [150, 50], [200, 50]])



// console.log(getCenter(pointArr));

// console.log(path1);
// get your svg as string
// console.log(canvas.svg())

// fs.writeFileSync('test111.svg', canvasIm.svg(), (err) => {
//     if (err) {
//         console.log(err);
//     }
// })

function getCenter(pointArray) {
    let p = polylabel(pointArray, 2.0)
    return p
}